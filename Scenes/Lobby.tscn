[gd_scene load_steps=12 format=3 uid="uid://dbe51xhcqk0md"]

[ext_resource type="Script" uid="uid://dtimbxowih3p" path="res://Scenes/Rooms/PreBuildedRooms/lobby.gd" id="1_xy1bw"]
[ext_resource type="Texture2D" uid="uid://d3ui7or6snptl" path="res://Sprites/bigfloor.png" id="2_vmftg"]
[ext_resource type="PackedScene" uid="uid://b406fxf5y3j0l" path="res://Scenes/Enviroment/ambient_fog.tscn" id="3_s3paf"]
[ext_resource type="PackedScene" uid="uid://yemt84rb13g0" path="res://Scenes/player.tscn" id="4_gqa7q"]
[ext_resource type="PackedScene" uid="uid://h1p4uoq5vhsg" path="res://Scenes/camera.tscn" id="5_yg8gm"]

[sub_resource type="NavigationMesh" id="NavigationMesh_kwvrb"]
vertices = PackedVector3Array(-86.3501, 2.21549, -90.974, -86.3501, 2.21549, 91.026, 86.3999, 2.21549, 91.026, 86.3999, 2.21549, -90.974, -4.35007, 0.215489, -8.22404, -4.35007, 0.215489, 8.27596, 4.39993, 0.215489, 8.27596, 4.39993, 0.215489, -8.22404)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1), PackedInt32Array(7, 6, 4), PackedInt32Array(4, 6, 5)]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_lskdr"]
diffuse_mode = 3
specular_mode = 1
albedo_texture = ExtResource("2_vmftg")

[sub_resource type="PlaneMesh" id="PlaneMesh_p6tl6"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_mk0ac"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[sub_resource type="Environment" id="Environment_nwfht"]
background_mode = 1
ambient_light_source = 2
ambient_light_energy = 3.02
fog_light_color = Color(0, 0, 0, 1)
volumetric_fog_enabled = true
volumetric_fog_density = 0.1342
volumetric_fog_albedo = Color(0, 0, 0, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_wjxqr"]
size = Vector3(1, 4, 10)

[node name="Lobby" type="Node3D"]
script = ExtResource("1_xy1bw")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(2.66389, 0, 0, 0, 2.66389, 0, 0, 0, 2.66389, 0, 0, 0)
navigation_mesh = SubResource("NavigationMesh_kwvrb")

[node name="Floor" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(-3.74722e-07, 0, 4.85461, 0, 0.514113, 0, -8.57265, 0, -2.12202e-07, 0.0226865, -0.035954, 0)
material_override = SubResource("StandardMaterial3D_lskdr")
mesh = SubResource("PlaneMesh_p6tl6")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/Floor"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/Floor/StaticBody3D"]
transform = Transform3D(21.3409, 0, -1.13687e-13, 0, 8.78843, 0, 6.82121e-13, 0, 35.7898, 0, -0.951997, 0)
shape = SubResource("ConcavePolygonShape3D_mk0ac")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_nwfht")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="WorldEnvironment"]
transform = Transform3D(-0.224144, -0.5, 0.836516, -0.12941, 0.866025, 0.482963, -0.965926, 0, -0.258819, 13, 16, 0)
light_energy = 0.838
directional_shadow_mode = 0
directional_shadow_split_1 = 0.276
directional_shadow_max_distance = 784.3
directional_shadow_pancake_size = 9.1

[node name="AmbientFog" parent="WorldEnvironment" instance=ExtResource("3_s3paf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.823468, 1.83862, 26.2169)
size = Vector3(24.1013, 3.56738, 7.12475)

[node name="AmbientFog3" parent="WorldEnvironment" instance=ExtResource("3_s3paf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.237669, 1.83862, -28.0745)
size = Vector3(25.2677, 3.56738, 10.6119)

[node name="AmbientFog2" parent="WorldEnvironment" instance=ExtResource("3_s3paf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17.3238, 1.83862, -1.04504)
size = Vector3(8.82825, 3.56738, 63.9902)

[node name="AmbientFog4" parent="WorldEnvironment" instance=ExtResource("3_s3paf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.0988, 1.64174, -0.588856)
size = Vector3(8.23016, 3.56738, 58.9049)

[node name="player" parent="." instance=ExtResource("4_gqa7q")]
process_priority = 75
transform = Transform3D(-0.724015, 0, 123.828, 0, 123.83, 0, -123.828, 0, -0.724015, 2.638, 0.014, -0.205)

[node name="Camera" parent="." instance=ExtResource("5_yg8gm")]
transform = Transform3D(-4.37114e-08, -0.707107, 0.707107, 0, 0.707107, 0.707107, -1, 3.09086e-08, -3.09086e-08, 7, 8, 0)

[node name="BoundsColliders" type="Node3D" parent="."]

[node name="StaticBody3D" type="StaticBody3D" parent="BoundsColliders"]
transform = Transform3D(5.91273, 0, 0, 0, 5.91273, 0, 0, 0, 5.91273, 0, 0, 9)
collision_mask = 2

[node name="top1" type="CollisionShape3D" parent="BoundsColliders/StaticBody3D"]
transform = Transform3D(0.169127, 0, 0, 0, 0.169127, 0, 0, 0, 0.323164, -2.1526, 0.163282, 1.06638)
shape = SubResource("BoxShape3D_wjxqr")

[node name="topbtwn" type="CollisionShape3D" parent="BoundsColliders/StaticBody3D"]
transform = Transform3D(0.169127, 0, 0, 0, 0.169127, 0, 0, 0, 0.177061, -2.1526, 0.163282, -1.49574)
shape = SubResource("BoxShape3D_wjxqr")

[node name="top2" type="CollisionShape3D" parent="BoundsColliders/StaticBody3D"]
transform = Transform3D(0.169127, 0, 0, 0, 0.169127, 0, 0, 0, 0.323164, -2.1527, 0.163, -4.08981)
shape = SubResource("BoxShape3D_wjxqr")

[node name="right1" type="CollisionShape3D" parent="BoundsColliders/StaticBody3D"]
transform = Transform3D(-7.39277e-09, 0, -0.208215, 0, 0.169127, 0, 0.169127, 0, -9.10132e-09, -1.60858, 0.163282, -5.40079)
shape = SubResource("BoxShape3D_wjxqr")

[node name="rightbtwn" type="CollisionShape3D" parent="BoundsColliders/StaticBody3D"]
transform = Transform3D(-7.39277e-09, 0, -0.114079, 0, 0.169127, 0, 0.169127, 0, -4.98657e-09, 0.0421705, 0.163282, -5.4008)
shape = SubResource("BoxShape3D_wjxqr")

[node name="right2" type="CollisionShape3D" parent="BoundsColliders/StaticBody3D"]
transform = Transform3D(-7.39277e-09, 0, -0.208215, 0, 0.169127, 0, 0.169127, 0, -9.10132e-09, 1.71352, 0.163, -5.4009)
shape = SubResource("BoxShape3D_wjxqr")

[node name="left1" type="CollisionShape3D" parent="BoundsColliders/StaticBody3D"]
transform = Transform3D(-7.39276e-09, 0, 0.183799, 0, 0.169127, 0, -0.169127, 0, -8.03409e-09, 1.51228, 0.163282, 2.32726)
shape = SubResource("BoxShape3D_wjxqr")

[node name="leftbtwn" type="CollisionShape3D" parent="BoundsColliders/StaticBody3D"]
transform = Transform3D(-7.39276e-09, 0, 0.100702, 0, 0.169127, 0, -0.169127, 0, -4.40184e-09, 0.0551022, 0.163282, 2.32726)
shape = SubResource("BoxShape3D_wjxqr")

[node name="left2" type="CollisionShape3D" parent="BoundsColliders/StaticBody3D"]
transform = Transform3D(-7.39276e-09, 0, 0.183799, 0, 0.169127, 0, -0.169127, 0, -8.03409e-09, -1.42027, 0.163, 2.32736)
shape = SubResource("BoxShape3D_wjxqr")

[node name="bot1" type="CollisionShape3D" parent="BoundsColliders/StaticBody3D"]
transform = Transform3D(0.169127, 0, 0, 0, 0.169127, 0, 0, 0, 0.396827, 2.2093, 0.163282, 1.65304)
shape = SubResource("BoxShape3D_wjxqr")

[node name="botbtwn" type="CollisionShape3D" parent="BoundsColliders/StaticBody3D"]
transform = Transform3D(0.169127, 0, 0, 0, 0.169127, 0, 0, 0, 0.234476, 2.20898, 0.163, -1.49409)
shape = SubResource("BoxShape3D_wjxqr")

[node name="bot2" type="CollisionShape3D" parent="BoundsColliders/StaticBody3D"]
transform = Transform3D(0.169127, 0, 0, 0, 0.169127, 0, 0, 0, 0.396827, 2.20898, 0.163, -4.67841)
shape = SubResource("BoxShape3D_wjxqr")

[node name="Marker3D" type="Marker3D" parent="."]
transform = Transform3D(0.996596, 0, -0.0824429, 0, 1, 0, 0.0824429, 0, 0.996596, -3.56748, 0, -7.53312)

[node name="RUN" type="Button" parent="."]
offset_left = 561.0
offset_top = 423.0
offset_right = 744.0
offset_bottom = 503.0
scale = Vector2(4.63939, 3.62321)
text = "NEW RUN"

[connection signal="pressed" from="RUN" to="." method="_on_run_pressed"]
